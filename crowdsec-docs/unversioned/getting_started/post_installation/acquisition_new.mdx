---
id: acquisition_new
title: Add new log sources
pagination_prev: getting_started/next_steps
pagination_next: getting_started/post_installation/profiles
---

:::info
We will add a [file-based acquisition](/docs/next/log_processor/data_sources/file). If you need a different source, adjust the instructions to match your setup.
:::

import FormattedTabs from '@site/src/components/formatted-tabs';


Once you have identified the service you want to add, use `cscli` to install its collection.

:::tip
You can view the available collections on the [Hub](https://hub.crowdsec.net/).
:::

<FormattedTabs
  bash="cscli collections add <collection_name>"
  powershell="cscli.exe collections add <collection_name>"
  yaml={`# In your values.yml file
agent:
  env:
    - name: COLLECTIONS
      value: '<collection_name>'`}
/>

Once the collection is downloaded, add a new [Acquisition](/docs/next/log_processor/data_sources/intro) so CrowdSec knows where to find the log source.

:::info
Each collection on the [Hub](https://hub.crowdsec.net/) includes an example [Acquisition](/docs/next/log_processor/data_sources/intro), which helps you identify files to monitor and labels to assign.
:::

:::info
Since version `1.5.0`, you can add acquisitions via the `acquis.d` directory, which avoids editing the main configuration file.
:::

### Create the directory if it does not exist

<FormattedTabs
  bash="sudo mkdir -p /etc/crowdsec/acquis.d"
  cmd="mkdir C:\ProgramData\CrowdSec\Config\acquis.d\"
  powershell="New-Item -ItemType Directory -Force -Path C:\ProgramData\CrowdSec\Config\acquis.d\"
/>

### Create the acquisition file

<FormattedTabs
  bash="sudo touch /etc/crowdsec/acquis.d/<collection_name>.yaml"
  powershell="New-Item -ItemType File -Force -Path C:\ProgramData\CrowdSec\Config\acquis.d\<collection_name>.yaml"
  cmd=".>C:\ProgramData\CrowdSec\Config\acquis.d\<collection_name>.yaml 2>NUL"
  yaml={`# In your values.yml file
agent:
# -- To add custom acquisitions using available datasources (https://docs.crowdsec.net/docs/next/log_processor/data_sources/intro)
  additionalAcquisition:
    - source: file
      filenames:
        - '/path/to/your/file.log' ## Single file
        - '/path/to/your/files*' ## Wildcard support
      labels:
        type: '<type of logs>' ## Type defined in the parser`}
/>

:::info
You can skip the following step if you are on Kubernetes.
:::

### Add the following contents to the file

```yaml title="<collection_name>.yaml"
filenames:
  - "/path/to/your/file.log" ## Single file
  - "/path/to/your/files*" ## Wildcard support
labels:
  type: "<type of logs>" ## Type defined in the parser
```

Once you have added the acquisitions, test the configuration and restart the service.

<FormattedTabs
  bash="sudo crowdsec -t && sudo systemctl restart crowdsec"
  cmd="net stop crowdsec && net start crowdsec"
  powershell="Restart-Service crowdsec"
  k8s="helm upgrade -f values.yaml crowdsec crowdsecurity/crowdsec"
/>

## Next steps

Now that you have added a new acquisition, verify that logs are being parsed correctly. See [Are the detected log sources working correctly?](/getting_started/post_installation/acquisition.mdx#are-the-detected-log-sources-working-correctly).
